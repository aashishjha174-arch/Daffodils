<!doctype html>
<html lang="en">
<head>
  <title>Login</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="icon" href="images\logo.jpeg">
  <!-- fonts & icons -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <!-- your css -->
  <link rel="stylesheet" href="css/style.css">

  <!-- background slideshow css -->
  <style>
    body {
      min-height: 100vh;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1.5s ease-in-out;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.45);
      z-index: -1;
    }
  </style>
</head>

<body class="img js-fullheight">

<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 text-center mb-5">
        <h2 class="heading-section text-white">DAFFODILS PUBLIC SCHOOL</h2>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-4">
        <div class="login-wrap p-4">
          <h3 class="mb-4 text-center text-white">Have an account?</h3>

          <form id="loginForm" class="signin-form">
            <div class="form-group">
              <input type="text" id="username" class="form-control" placeholder="Username" required>
            </div>

            <div class="form-group">
              <button type="submit" class="form-control btn btn-primary submit px-3">
                Sign In
              </button>
            </div>

            <div class="form-group">
              <label class="checkbox-wrap text-white">
                Remember Me
                <input type="checkbox" id="rememberMe">
                <span class="checkmark"></span>
              </label>
            </div>
          </form>

          <p class="w-100 text-center text-white mt-3">
            Don't have an account? <a href="signup.html" class="text-white font-weight-bold">Sign Up</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- background slideshow js -->
<script>
  const images = [
    "images/bg.jpeg",
    "images/bg2.jpeg",
    "images/bg3.jpeg",
    "images/bg4.jpeg"
  ];

  let index = 0;
  function changeBackground() {
    document.body.style.backgroundImage = `url('${images[index]}')`;
    index = (index + 1) % images.length;
  }
  changeBackground();
  setInterval(changeBackground, 5000);
</script>

<!-- login functionality -->
<script>
  // Auto-fill remembered username
  window.addEventListener('load', function() {
    const rememberedUsername = localStorage.getItem('rememberedUsername');
    if (rememberedUsername) {
      document.getElementById('username').value = rememberedUsername;
      document.getElementById('rememberMe').checked = true;
    }
  });

  document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const username = document.getElementById('username').value;
    const rememberMe = document.getElementById('rememberMe').checked;
    
    let users = JSON.parse(localStorage.getItem('users') || '[]');
    
    if (!users.includes(username)) {
      alert('Username not found! Please sign up first.');
      return;
    }
    
    if (rememberMe) {
      localStorage.setItem('rememberedUsername', username);
    } else {
      localStorage.removeItem('rememberedUsername');
    }
    
    localStorage.setItem('currentUser', username);

    // Redirect to loading page with username
    window.location.href = `load.html`;
  });
</script>

<!-- scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
